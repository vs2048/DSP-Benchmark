function WriteImageHeader(image, name)
% Writes a .h file with the image as 2d array

% find the dimention
dim = size(image);

% Open the image and write a comment along with dimentions
file = fopen([name '.h'], 'w');
fprintf(file, '// Autogenerated image header file\n// Contains image data only\n\n');
fprintf(file, '#define IM_HEIGHT %d\n#define IM_WIDTH %d\n\n', dim(1), dim(2));

% Write the variable
fprintf(file, 'char origImg[][] = { ');
for i = 1:dim(1)-1
	fprintf(file, '{');
	for j = 1:dim(2)-1
		fprintf(file, '%d, ', image(i,j));
	end
	fprintf(file, '%d},\n', image(i,j+1));
end
fprintf(file, '{');
for j = 1:dim(2)-1
	fprintf(file, '%d, ', image(i+1,j));
end
fprintf(file, '%d}};\n', image(i+1,j+1));
fclose(file);